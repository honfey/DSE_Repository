@model IEnumerable<SIS.Models.Attendance>

@{
    ViewBag.Title = "AttendanceList";
}

<h2>Mark Attendance</h2>

<script type="text/javascript" src="@Url.Content("~/Scripts/")jquery-1.10.2.js"></script>
<script type="text/javascript">


    //$(document).ready(function () {
    //    var ckbox = $('#checkbox');

    //    $('input').on('click', function () {
    //        if (ckbox.is(':checked')) {
    //            alert('You have Checked it');
    //        } else {
    //            alert('You Un-Checked it');
    //        }
    //    });
    //});

    function CheckMIN()
    {
        $(document).ready(function () {
            var checkBoxMI = $('#MI');
            $('input').on('click', function () {
                if (checkBoxMI.is(':checked')) {
                    $(".MorningInInput").val("09:30");
                }
                else {
                    $(".MorningInInput").val("");
                }

            });
        });
    }

    function CheckMOUT()
    {
        $(document).ready(function () {
            var checkBoxMI = $('#MO');
            $('input').on('click', function () {
                if (checkBoxMI.is(':checked')) {
                    $(".MorningOutInput").val("12:15");
                }
                else {
                    $(".MorningOutInput").val("");
                }

            });
        });
    }

    function CheckAIN() {
        $(document).ready(function () {
            var checkBoxMI = $('#AI');
            $('input').on('click', function () {
                if (checkBoxMI.is(':checked')) {
                    $(".AfternoonInInput").val("13:15");
                }
                else {
                    $(".AfternoonInInput").val("");
                }

            });
        });
    }

    function CheckAOUT() {
        $(document).ready(function () {
            var checkBoxMI = $('#AO');
            $('input').on('click', function () {
                if (checkBoxMI.is(':checked')) {
                    $(".AfternoonOutInput").val("16:00");
                }
                else {
                    $(".AfternoonOutInput").val("");
                }

            });
        });
    }

</script>


<p>
    @Html.ActionLink("Create New", "Create")
</p>

@using (Html.BeginForm("MarkAttendance", "Attendances", FormMethod.Post))
{
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.ClassStudent.Id)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ClassStudent.StudentId)

            </th>
            <th>
                @Html.DisplayNameFor(model => model.ClassStudent.Student.Name)

            </th>
            <th>
                <input type="checkbox" onclick="CheckMIN()" id="MI"> &nbsp; @Html.DisplayNameFor(model => model.MorningIn)
            </th>
            <th>
                <input type="checkbox" onclick="CheckMOUT()" id="MO"> &nbsp; @Html.DisplayNameFor(model => model.MorningOut)
            </th>
            <th>
                <input type="checkbox" onclick="CheckAIN()" id="AI"> &nbsp; @Html.DisplayNameFor(model => model.AfternoonIn)
            </th>
            <th>
                <input type="checkbox" onclick="CheckAOUT()" id="AO"> &nbsp; @Html.DisplayNameFor(model => model.AfternoonOut)
            </th>


        </tr>

        @for (int i = 0; i < Model.Count(); i++)
        {
            <tr>
                @*<td>
                        @Html.DisplayFor(modelItem => item.ClassStudent.ClassStudentId)

                    </td>*@
                <td>
                    @Html.DisplayFor(x => x.ElementAt(i).ClassStudentId)
                </td>

                <td>
                    @Html.DisplayFor(x => x.ElementAt(i).ClassStudent.StudentId)
                </td>

                <td>
                    @Html.DisplayFor(x => x.ElementAt(i).ClassStudent.Student.Name)
                </td>

                <td>
                    @Html.Hidden("att[" + (@i) + "].Id", Model.ElementAtOrDefault(i).Id)

                    @Html.Hidden("att[" + (@i) + "].ClassStudentID", Model.ElementAtOrDefault(i).ClassStudentId)


                    @Html.TextBox("att[" + (@i) + "].MorningIn", Model.ElementAtOrDefault(i).MorningIn, new { @class = "MorningInInput" })
                </td>
                <td>
                    @Html.TextBox("att[" + (@i) + "].MorningOut", Model.ElementAtOrDefault(i).MorningOut, new { @class = "MorningOutInput" })
                </td>
                <td>
                    @Html.TextBox("att[" + (@i) + "].AfternoonIn", Model.ElementAtOrDefault(i).AfternoonIn, new { @class = "AfternoonInInput" })
                </td>
                <td>
                    @Html.TextBox("att[" + (@i) + "].AfternoonOut", Model.ElementAtOrDefault(i).AfternoonOut, new { @class = "AfternoonOutInput" })
                </td>



                @*<td>
                        @Html.ActionLink("Edit", "Edit", new { id=item.Id }) |
                        @Html.ActionLink("Details", "Details", new { id=item.Id }) |
                        @Html.ActionLink("Delete", "Delete", new { id=item.Id })
                    </td>*@
            </tr>
        }

    </table>

    <input type="submit" value="Submit" class="btn btn-primary" />
}
